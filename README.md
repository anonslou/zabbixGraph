# zabbixGraph

Отправка кастомных графиков загрузки сетевых интерфейсов на основе данных из zabbix по почте.
![пример графика](https://raw.githubusercontent.com/anonslou/zabbixGraph/master/msk10-rtr1.png "Пример графика")

## Настройка и запуск

Конфигурационный файл в формате yaml содержит три секции:
1. database - опции подключения к базе данных.
2. mail - опции отправки писем по почте.
3. nodes - описание узлов и интерфейсов для которых строятся графики.

Обратите внимание, что в конфиге имена устройств и названия интерфейсов нужно указывать в точности также, как они именуются в zabbix, т.к. эти имена используются в sql запросах. Остальные параметры в конфиге: имена интерфейсов и имя графика - произвольные.

После создания конфигурационного файла нужно дополнительно определить рабочую директорию (переменная WORK_DIR) в основном файле программы: core.py

Для работы скритпа необходим python 3 версии и библиотеки: pyyaml, netmiko, mysql-connector, matplotlib и numpy.

## Дополнительные сведения

Количество устройств и интерфейсов для каждого из устройств теоретически не ограничено. Авторизация при отправке по почты в настоящий момент не реализована - старые версии заббикса ее не поддерживают. Подключение к БД по сети не тестировалось. Запуск по расписанию осуществляется через cron.
